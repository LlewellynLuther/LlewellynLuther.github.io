<!doctype html>
<meta charset="utf-8">
<title>雪碧图创建组</title>
<body>
<script src="../pixi/pixi.min.js"></script>
<script>

let Application = PIXI.Application,
    Container = PIXI.Container,
    loader = PIXI.loader,
    resources = PIXI.loader.resources,
    TextureCache = PIXI.utils.TextureCache,
    Sprite = PIXI.Sprite;

let app = new Application({ 
    width: 256, 
    height: 256,                       
    antialiasing: true, 
    transparent: false, 
    resolution: 1
  }
);

document.body.appendChild(app.view);

loader
  .add("images/animals.json")
  .load(setup);


function setup() {

  //There are three ways to make sprites from textures atlas frames

  //Make the three animal sprites

  //Create an alias for the texture atlas frame ids
  //别名
  let id = resources["images/animals.json"].textures;

  // 先设置图片，但不引入舞台
  //The cat
  let cat = new Sprite(id["cat.png"]);
  cat.position.set(16, 16);

  //The hedgehog
  let hedgehog = new Sprite(id["hedgehog.png"]);
  hedgehog.position.set(32, 32);

  //The tiger
  let tiger = new Sprite(id["tiger.png"]);
  tiger.position.set(64, 64);

  //Group the animals
  //创建组
  let animals = new Container();
  animals.addChild(cat);
  animals.addChild(hedgehog);
  animals.addChild(tiger);
  // 简写：  
  // animals.addChild(cat,hedgehog,tiger);

  //Add the `animals` group to the stage(阶段) 添加到舞台上
  app.stage.addChild(animals);

  //Change the position of the group 整组换位置
  animals.position.set(64, 64);

  //Optionally change the group's width and height
  //animals.width = 200;
  //animals.height = 200;

  //Find out what the `animal` groups's children are

  console.log(animals.children);
  //Displays: [Sprite, Sprite, Sprite]

  //Find out what the group's position and size is

  console.log(animals.position); 
  //Displays: Point{x: 0, y: 0 ...}

  console.log(animals.width);
  //Displays: 112

  console.log(animals.height);
  //Displays: 112 

  //Find the cat's local position
  console.log(cat.x);
  //Displays: 16
  
  //Find the cat's global position 全局位置 （算的是其中cat到舞台左上角的位置）同下类似
  console.log(animals.toGlobal(cat.position));
  //Displays: Point{x: 80, y: 80...};

  //Use `getGlobalPosition` to find the sprite's 
  //global position   直接获取组中某图到全局的位置 同上类似
  console.log("Tiger world x: " + tiger.getGlobalPosition().x);
  console.log("Tiger world y: " + tiger.getGlobalPosition().y);

  //Use `toLocal` to find a sprite's position relative(相对的) to another sprite
  //toLocal 找到一个精灵和其他任何一个精灵之间的距离
  console.log("Tiger local x: " + tiger.toLocal(tiger.position, hedgehog).x);
  console.log("Tiger local y: " + tiger.toLocal(tiger.position, hedgehog).y);
  
  
  //If you don't know what group the sprite belongs to, use the
  //sprite's `parent` property. 父级的位置
  console.log(cat.parent.toGlobal(cat.position));
}

</script>
</body>



